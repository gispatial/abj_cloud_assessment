{"remainingRequest":"/Users/crocslut/Desktop/abj_cloud_assessment/node_modules/babel-loader/lib/index.js!/Users/crocslut/Desktop/abj_cloud_assessment/src/store/email/moduleEmailMutations.js","dependencies":[{"path":"/Users/crocslut/Desktop/abj_cloud_assessment/src/store/email/moduleEmailMutations.js","mtime":1634797132100},{"path":"/Users/crocslut/Desktop/abj_cloud_assessment/node_modules/cache-loader/dist/cjs.js","mtime":1634797146168},{"path":"/Users/crocslut/Desktop/abj_cloud_assessment/node_modules/babel-loader/lib/index.js","mtime":1634797145766}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZm9yLWVhY2giOwoKLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogIEZpbGUgTmFtZTogbW9kdWxlRW1haWxNdXRhdGlvbnMuanMKICBEZXNjcmlwdGlvbjogRW1haWwgTW9kdWxlIE11dGF0aW9ucwogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICBJdGVtIE5hbWU6IGFiamNsb3Vkc29sdXRpb25zLmNvbSBkYXNoYm9hcmQgbWFuYWdlbWVudCBwb3J0YWwKICAgIEF1dGhvcjogSnVzdGVkQEFpZHkKICBTdGFnaW5nIFVSTDogaHR0cDovL3RyaXBjYXJ0ZS5naXNwYXRpYWwudGVjaC9hcGkKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8KZXhwb3J0IGRlZmF1bHQgewogIFNFVF9FTUFJTF9TRUFSQ0hfUVVFUlk6IGZ1bmN0aW9uIFNFVF9FTUFJTF9TRUFSQ0hfUVVFUlkoc3RhdGUsIHF1ZXJ5KSB7CiAgICBzdGF0ZS5tYWlsU2VhcmNoUXVlcnkgPSBxdWVyeTsKICB9LAogIFNFVF9NQUlMUzogZnVuY3Rpb24gU0VUX01BSUxTKHN0YXRlLCBtYWlscykgewogICAgc3RhdGUubWFpbHMgPSBtYWlsczsKICB9LAogIFNFVF9UQUdTOiBmdW5jdGlvbiBTRVRfVEFHUyhzdGF0ZSwgdGFncykgewogICAgc3RhdGUubWFpbFRhZ3MgPSB0YWdzOwogIH0sCiAgU0VUX01FVEE6IGZ1bmN0aW9uIFNFVF9NRVRBKHN0YXRlLCBtZXRhKSB7CiAgICBzdGF0ZS5tZXRhID0gbWV0YTsKICB9LAogIFVQREFURV9NQUlMX0ZJTFRFUjogZnVuY3Rpb24gVVBEQVRFX01BSUxfRklMVEVSKHN0YXRlLCBmaWx0ZXJOYW1lKSB7CiAgICBzdGF0ZS5tYWlsX2ZpbHRlciA9IGZpbHRlck5hbWU7CiAgfSwKICBVUERBVEVfTEFCRUxTOiBmdW5jdGlvbiBVUERBVEVfTEFCRUxTKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBwYXlsb2FkLm1haWxzLmZvckVhY2goZnVuY3Rpb24gKG1haWxJZCkgewogICAgICB2YXIgbWFpbEluZGV4ID0gc3RhdGUubWFpbHMuZmluZEluZGV4KGZ1bmN0aW9uIChtYWlsKSB7CiAgICAgICAgcmV0dXJuIG1haWwuaWQgPT0gbWFpbElkOwogICAgICB9KTsKICAgICAgdmFyIGluZGV4ID0gc3RhdGUubWFpbHNbbWFpbEluZGV4XS5sYWJlbHMuaW5kZXhPZihwYXlsb2FkLmxhYmVsKTsKICAgICAgaWYgKGluZGV4ID09IC0xKSBzdGF0ZS5tYWlsc1ttYWlsSW5kZXhdLmxhYmVscy5wdXNoKHBheWxvYWQubGFiZWwpO2Vsc2Ugc3RhdGUubWFpbHNbbWFpbEluZGV4XS5sYWJlbHMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0pOwogIH0sCiAgU0VUX0xBQkVMUzogZnVuY3Rpb24gU0VUX0xBQkVMUyhzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUubWFpbHMuZmluZChmdW5jdGlvbiAobWFpbCkgewogICAgICByZXR1cm4gbWFpbC5pZCA9PT0gcGF5bG9hZC5tYWlsSWQ7CiAgICB9KS5sYWJlbHMgPSBwYXlsb2FkLmxhYmVsczsKICB9LAogIFNFVF9VTlJFQUQ6IGZ1bmN0aW9uIFNFVF9VTlJFQUQoc3RhdGUsIHBheWxvYWQpIHsKICAgIHBheWxvYWQuZW1haWxJZHMuZm9yRWFjaChmdW5jdGlvbiAobWFpbElkKSB7CiAgICAgIHZhciBtYWlsSW5kZXggPSBzdGF0ZS5tYWlscy5maW5kSW5kZXgoZnVuY3Rpb24gKG1haWwpIHsKICAgICAgICByZXR1cm4gbWFpbC5pZCA9PSBtYWlsSWQ7CiAgICAgIH0pOwogICAgICBpZiAobWFpbEluZGV4ICE9PSAtMSkgc3RhdGUubWFpbHNbbWFpbEluZGV4XS51bnJlYWQgPSBwYXlsb2FkLnVucmVhZEZsYWc7CiAgICB9KTsKICB9LAogIE1PVkVfTUFJTFNfVE86IGZ1bmN0aW9uIE1PVkVfTUFJTFNfVE8oc3RhdGUsIHBheWxvYWQpIHsKICAgIHBheWxvYWQuZW1haWxJZHMuZm9yRWFjaChmdW5jdGlvbiAobWFpbElkKSB7CiAgICAgIHZhciBtYWlsSW5kZXggPSBzdGF0ZS5tYWlscy5maW5kSW5kZXgoZnVuY3Rpb24gKG1haWwpIHsKICAgICAgICByZXR1cm4gbWFpbC5pZCA9PSBtYWlsSWQ7CiAgICAgIH0pOyAvLyBVcGRhdGUgZHJhZnQgbWV0YQogICAgICAvLyBJZiBtb3ZpbmcgZnJvbSBkcmFmdCBtYWlsRm9sZGVyIGRlY3JlYXNlIGRyYWZ0IG1ldGEgYnkgcmVtb3ZpbmcgbWFpbElkCgogICAgICBzdGF0ZS5tYWlsc1ttYWlsSW5kZXhdLm1haWxGb2xkZXIgPT09ICJkcmFmdCIgPyBzdGF0ZS5tZXRhLmRyYWZ0TWFpbHMuc3BsaWNlKHN0YXRlLm1ldGEuZHJhZnRNYWlscy5maW5kSW5kZXgoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaSA9PT0gbWFpbElkOwogICAgICB9KSwgMSkgOiBudWxsOyAvLyBFbHNlIGluY3JlYXNlIGJ5IHB1c2hpbmcgbWFpbElkCgogICAgICBwYXlsb2FkLnRvID09PSAiZHJhZnQiID8gc3RhdGUubWV0YS5kcmFmdE1haWxzLnB1c2gobWFpbElkKSA6IG51bGw7CiAgICAgIHN0YXRlLm1haWxzW21haWxJbmRleF0ubWFpbEZvbGRlciA9IHBheWxvYWQudG87CiAgICB9KTsKICB9LAogIFRPR0dMRV9JU19NQUlMX1NUQVJSRUQ6IGZ1bmN0aW9uIFRPR0dMRV9JU19NQUlMX1NUQVJSRUQoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLm1haWxzLmZpbmQoZnVuY3Rpb24gKG1haWwpIHsKICAgICAgcmV0dXJuIG1haWwuaWQgPT09IHBheWxvYWQubWFpbElkOwogICAgfSkuaXNTdGFycmVkID0gcGF5bG9hZC52YWx1ZTsKICB9LAogIC8vIElmIHlvdXIgcHJvY2VzcyBvZiBmZXRjaGluZyBpcyBkaWZmZXJlbnQgdGhhbiBvdXJzLiBQbGVhc2UgdXBkYXRlIGFjdGlvbiBhbmQgbXV0YXRpb24KICAvLyBNYXliZSB0aGlzIG11dGF0aW9uIGlzIHJlZHVuZGFudCBmb3IgeW91LiBGZWVsIGZyZWUgdG8gcmVtb3ZlIGl0LgogIFVQREFURV9VTlJFQURfTUVUQTogZnVuY3Rpb24gVVBEQVRFX1VOUkVBRF9NRVRBKHN0YXRlLCBwYXlsb2FkKSB7CiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChmb2xkZXIpIHsKICAgICAgLy8gSWYgZm9sZGVyIGlzIHNhbWUgYXMgY3VycmVudCBmaWx0ZXIKICAgICAgaWYgKGZvbGRlciA9PSBzdGF0ZS5tYWlsX2ZpbHRlcikgewogICAgICAgIC8vIElmIHVucmVhZCBmbGFnIGlzIHRydWUgLSBpbmNyZWFzZSBjb3VudAogICAgICAgIGlmIChwYXlsb2FkLnVucmVhZEZsYWcpIHsKICAgICAgICAgIHBheWxvYWQuZW1haWxJZHMuZm9yRWFjaChmdW5jdGlvbiAobWFpbElkKSB7CiAgICAgICAgICAgIGlmIChzdGF0ZS5tZXRhLnVucmVhZE1haWxzLmZvbGRlcltmb2xkZXJdLmluZGV4T2YobWFpbElkKSA9PT0gLTEpIHN0YXRlLm1ldGEudW5yZWFkTWFpbHMuZm9sZGVyW2ZvbGRlcl0ucHVzaChtYWlsSWQpOwogICAgICAgICAgfSk7CiAgICAgICAgfSAvLyBlbHNlIHJlZHVjZSB1bnJlYWQgbWFpbHMgY291bnQKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcGF5bG9hZC5lbWFpbElkcy5mb3JFYWNoKGZ1bmN0aW9uIChtYWlsSWQpIHsKICAgICAgICAgICAgICB2YXIgbWFpbElkSW5kZXggPSBzdGF0ZS5tZXRhLnVucmVhZE1haWxzLmZvbGRlcltmb2xkZXJdLmluZGV4T2YobWFpbElkKTsKICAgICAgICAgICAgICBpZiAobWFpbElkSW5kZXggIT09IC0xKSBzdGF0ZS5tZXRhLnVucmVhZE1haWxzLmZvbGRlcltmb2xkZXJdLnNwbGljZShtYWlsSWRJbmRleCwgMSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIC8vIExvb3Agb3ZlciBlbWFpbCBtZXRhCiAgICBmb3IgKHZhciBmb2xkZXIgaW4gc3RhdGUubWV0YS51bnJlYWRNYWlscy5mb2xkZXIpIHsKICAgICAgX2xvb3AoZm9sZGVyKTsKICAgIH0KICB9LAogIFVQREFURV9VTlJFQURfTUVUQV9PTl9NT1ZFOiBmdW5jdGlvbiBVUERBVEVfVU5SRUFEX01FVEFfT05fTU9WRShzdGF0ZSwgcGF5bG9hZCkgewogICAgLy8gVXBkYXRpbmcgRHJhZnQgbWV0YSBpcyBoYW5kbGVkIGJ5ICJNT1ZFX01BSUxTX1RPIiBtdXRhdGlvbgogICAgcGF5bG9hZC5lbWFpbElkcy5mb3JFYWNoKGZ1bmN0aW9uIChtYWlsSWQpIHsKICAgICAgdmFyIG1haWwgPSBzdGF0ZS5tYWlscy5maW5kKGZ1bmN0aW9uIChtYWlsKSB7CiAgICAgICAgcmV0dXJuIG1haWwuaWQgPT0gbWFpbElkOwogICAgICB9KTsKCiAgICAgIGlmIChtYWlsLnVucmVhZCkgewogICAgICAgIHZhciBjZl91bnJlYWRfbWFpbHMgPSBzdGF0ZS5tZXRhLnVucmVhZE1haWxzLmZvbGRlcltzdGF0ZS5tYWlsX2ZpbHRlcl07CgogICAgICAgIGlmIChjZl91bnJlYWRfbWFpbHMpIHsKICAgICAgICAgIGNmX3VucmVhZF9tYWlscy5zcGxpY2UoY2ZfdW5yZWFkX21haWxzLmluZGV4T2YobWFpbElkKSwgMSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoc3RhdGUubWV0YS51bnJlYWRNYWlscy5mb2xkZXJbcGF5bG9hZC50b10pIHN0YXRlLm1ldGEudW5yZWFkTWFpbHMuZm9sZGVyW3BheWxvYWQudG9dLnB1c2gobWFpbElkKTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/crocslut/Desktop/abj_cloud_assessment/src/store/email/moduleEmailMutations.js"],"names":["SET_EMAIL_SEARCH_QUERY","state","query","mailSearchQuery","SET_MAILS","mails","SET_TAGS","tags","mailTags","SET_META","meta","UPDATE_MAIL_FILTER","filterName","mail_filter","UPDATE_LABELS","payload","forEach","mailId","mailIndex","findIndex","mail","id","index","labels","indexOf","label","push","splice","SET_LABELS","find","SET_UNREAD","emailIds","unread","unreadFlag","MOVE_MAILS_TO","mailFolder","draftMails","i","to","TOGGLE_IS_MAIL_STARRED","isStarred","value","UPDATE_UNREAD_META","folder","unreadMails","mailIdIndex","UPDATE_UNREAD_META_ON_MOVE","cf_unread_mails"],"mappings":";;;;;;AAAA;;;;;;;;AAUA,eAAe;AACXA,EAAAA,sBADW,kCACYC,KADZ,EACmBC,KADnB,EAC0B;AACjCD,IAAAA,KAAK,CAACE,eAAN,GAAwBD,KAAxB;AACH,GAHU;AAIXE,EAAAA,SAJW,qBAIDH,KAJC,EAIMI,KAJN,EAIa;AACtBJ,IAAAA,KAAK,CAACI,KAAN,GAAcA,KAAd;AACD,GANU;AAOXC,EAAAA,QAPW,oBAOFL,KAPE,EAOKM,IAPL,EAOW;AACpBN,IAAAA,KAAK,CAACO,QAAN,GAAiBD,IAAjB;AACD,GATU;AAUXE,EAAAA,QAVW,oBAUFR,KAVE,EAUKS,IAVL,EAUW;AACpBT,IAAAA,KAAK,CAACS,IAAN,GAAaA,IAAb;AACD,GAZU;AAaXC,EAAAA,kBAbW,8BAaQV,KAbR,EAaeW,UAbf,EAa2B;AACpCX,IAAAA,KAAK,CAACY,WAAN,GAAoBD,UAApB;AACD,GAfU;AAgBXE,EAAAA,aAhBW,yBAgBGb,KAhBH,EAgBUc,OAhBV,EAgBmB;AAC1BA,IAAAA,OAAO,CAACV,KAAR,CAAcW,OAAd,CAAsB,UAACC,MAAD,EAAY;AAC9B,UAAMC,SAAS,GAAGjB,KAAK,CAACI,KAAN,CAAYc,SAAZ,CAAsB,UAACC,IAAD;AAAA,eAAUA,IAAI,CAACC,EAAL,IAAWJ,MAArB;AAAA,OAAtB,CAAlB;AACA,UAAMK,KAAK,GAAGrB,KAAK,CAACI,KAAN,CAAYa,SAAZ,EAAuBK,MAAvB,CAA8BC,OAA9B,CAAsCT,OAAO,CAACU,KAA9C,CAAd;AAEA,UAAGH,KAAK,IAAI,CAAC,CAAb,EAAgBrB,KAAK,CAACI,KAAN,CAAYa,SAAZ,EAAuBK,MAAvB,CAA8BG,IAA9B,CAAmCX,OAAO,CAACU,KAA3C,EAAhB,KACKxB,KAAK,CAACI,KAAN,CAAYa,SAAZ,EAAuBK,MAAvB,CAA8BI,MAA9B,CAAqCL,KAArC,EAA4C,CAA5C;AACR,KAND;AAOH,GAxBU;AAyBXM,EAAAA,UAzBW,sBAyBA3B,KAzBA,EAyBOc,OAzBP,EAyBgB;AACzBd,IAAAA,KAAK,CAACI,KAAN,CAAYwB,IAAZ,CAAiB,UAACT,IAAD;AAAA,aAAUA,IAAI,CAACC,EAAL,KAAYN,OAAO,CAACE,MAA9B;AAAA,KAAjB,EAAuDM,MAAvD,GAAgER,OAAO,CAACQ,MAAxE;AACD,GA3BU;AA4BXO,EAAAA,UA5BW,sBA4BA7B,KA5BA,EA4BOc,OA5BP,EA4BgB;AACvBA,IAAAA,OAAO,CAACgB,QAAR,CAAiBf,OAAjB,CAAyB,UAACC,MAAD,EAAY;AACnC,UAAMC,SAAS,GAAGjB,KAAK,CAACI,KAAN,CAAYc,SAAZ,CAAsB,UAACC,IAAD;AAAA,eAAUA,IAAI,CAACC,EAAL,IAAWJ,MAArB;AAAA,OAAtB,CAAlB;AACA,UAAGC,SAAS,KAAK,CAAC,CAAlB,EAAqBjB,KAAK,CAACI,KAAN,CAAYa,SAAZ,EAAuBc,MAAvB,GAAgCjB,OAAO,CAACkB,UAAxC;AACtB,KAHD;AAIH,GAjCU;AAmCXC,EAAAA,aAnCW,yBAmCGjC,KAnCH,EAmCUc,OAnCV,EAmCmB;AAC5BA,IAAAA,OAAO,CAACgB,QAAR,CAAiBf,OAAjB,CAAyB,UAACC,MAAD,EAAY;AACnC,UAAMC,SAAS,GAAGjB,KAAK,CAACI,KAAN,CAAYc,SAAZ,CAAsB,UAACC,IAAD;AAAA,eAAUA,IAAI,CAACC,EAAL,IAAWJ,MAArB;AAAA,OAAtB,CAAlB,CADmC,CAGnC;AACA;;AACAhB,MAAAA,KAAK,CAACI,KAAN,CAAYa,SAAZ,EAAuBiB,UAAvB,KAAsC,OAAtC,GAAgDlC,KAAK,CAACS,IAAN,CAAW0B,UAAX,CAAsBT,MAAtB,CAA6B1B,KAAK,CAACS,IAAN,CAAW0B,UAAX,CAAsBjB,SAAtB,CAAgC,UAAAkB,CAAC;AAAA,eAAIA,CAAC,KAAKpB,MAAV;AAAA,OAAjC,CAA7B,EAAiF,CAAjF,CAAhD,GAAsI,IAAtI,CALmC,CAMnC;;AACAF,MAAAA,OAAO,CAACuB,EAAR,KAAe,OAAf,GAAyBrC,KAAK,CAACS,IAAN,CAAW0B,UAAX,CAAsBV,IAAtB,CAA2BT,MAA3B,CAAzB,GAA8D,IAA9D;AAEAhB,MAAAA,KAAK,CAACI,KAAN,CAAYa,SAAZ,EAAuBiB,UAAvB,GAAoCpB,OAAO,CAACuB,EAA5C;AACD,KAVD;AAWD,GA/CU;AAiDXC,EAAAA,sBAjDW,kCAiDYtC,KAjDZ,EAiDmBc,OAjDnB,EAiD4B;AACrCd,IAAAA,KAAK,CAACI,KAAN,CAAYwB,IAAZ,CAAiB,UAACT,IAAD;AAAA,aAAUA,IAAI,CAACC,EAAL,KAAYN,OAAO,CAACE,MAA9B;AAAA,KAAjB,EAAuDuB,SAAvD,GAAmEzB,OAAO,CAAC0B,KAA3E;AACD,GAnDU;AAqDX;AACA;AACAC,EAAAA,kBAvDW,8BAuDQzC,KAvDR,EAuDec,OAvDf,EAuDwB;AAAA,+BAGvB4B,MAHuB;AAK/B;AACA,UAAGA,MAAM,IAAI1C,KAAK,CAACY,WAAnB,EAAgC;AAE9B;AACA,YAAGE,OAAO,CAACkB,UAAX,EAAuB;AACrBlB,UAAAA,OAAO,CAACgB,QAAR,CAAiBf,OAAjB,CAAyB,UAACC,MAAD,EAAY;AACnC,gBAAGhB,KAAK,CAACS,IAAN,CAAWkC,WAAX,CAAuBD,MAAvB,CAA8BA,MAA9B,EAAsCnB,OAAtC,CAA8CP,MAA9C,MAA0D,CAAC,CAA9D,EAAiEhB,KAAK,CAACS,IAAN,CAAWkC,WAAX,CAAuBD,MAAvB,CAA8BA,MAA9B,EAAsCjB,IAAtC,CAA2CT,MAA3C;AAClE,WAFD;AAGD,SAJD,CAMA;AANA,aAOK;AACHF,YAAAA,OAAO,CAACgB,QAAR,CAAiBf,OAAjB,CAAyB,UAACC,MAAD,EAAY;AACnC,kBAAI4B,WAAW,GAAG5C,KAAK,CAACS,IAAN,CAAWkC,WAAX,CAAuBD,MAAvB,CAA8BA,MAA9B,EAAsCnB,OAAtC,CAA8CP,MAA9C,CAAlB;AACA,kBAAG4B,WAAW,KAAK,CAAC,CAApB,EAAuB5C,KAAK,CAACS,IAAN,CAAWkC,WAAX,CAAuBD,MAAvB,CAA8BA,MAA9B,EAAsChB,MAAtC,CAA6CkB,WAA7C,EAA0D,CAA1D;AACxB,aAHD;AAID;AACF;AAtB8B;;AAEjC;AACA,SAAI,IAAMF,MAAV,IAAoB1C,KAAK,CAACS,IAAN,CAAWkC,WAAX,CAAuBD,MAA3C,EAAmD;AAAA,YAAzCA,MAAyC;AAoBlD;AACF,GA/EU;AAgFXG,EAAAA,0BAhFW,sCAgFgB7C,KAhFhB,EAgFuBc,OAhFvB,EAgFgC;AAEzC;AAEAA,IAAAA,OAAO,CAACgB,QAAR,CAAiBf,OAAjB,CAAyB,UAACC,MAAD,EAAY;AACnC,UAAIG,IAAI,GAAGnB,KAAK,CAACI,KAAN,CAAYwB,IAAZ,CAAiB,UAACT,IAAD;AAAA,eAAUA,IAAI,CAACC,EAAL,IAAWJ,MAArB;AAAA,OAAjB,CAAX;;AAEA,UAAGG,IAAI,CAACY,MAAR,EAAgB;AACd,YAAMe,eAAe,GAAG9C,KAAK,CAACS,IAAN,CAAWkC,WAAX,CAAuBD,MAAvB,CAA8B1C,KAAK,CAACY,WAApC,CAAxB;;AACA,YAAGkC,eAAH,EAAoB;AAClBA,UAAAA,eAAe,CAACpB,MAAhB,CAAwBoB,eAAe,CAACvB,OAAhB,CAAwBP,MAAxB,CAAxB,EAAyD,CAAzD;AACD;;AACD,YAAGhB,KAAK,CAACS,IAAN,CAAWkC,WAAX,CAAuBD,MAAvB,CAA8B5B,OAAO,CAACuB,EAAtC,CAAH,EAA8CrC,KAAK,CAACS,IAAN,CAAWkC,WAAX,CAAuBD,MAAvB,CAA8B5B,OAAO,CAACuB,EAAtC,EAA0CZ,IAA1C,CAA+CT,MAA/C;AAC/C;AACF,KAVD;AAWD;AA/FU,CAAf","sourcesContent":["/*=========================================================================================\n  File Name: moduleEmailMutations.js\n  Description: Email Module Mutations\n  ----------------------------------------------------------------------------------------\n  Item Name: abjcloudsolutions.com dashboard management portal\n    Author: Justed@Aidy\n  Staging URL: http://tripcarte.gispatial.tech/api\n==========================================================================================*/\n\n\nexport default {\n    SET_EMAIL_SEARCH_QUERY(state, query) {\n        state.mailSearchQuery = query\n    },\n    SET_MAILS(state, mails) {\n      state.mails = mails\n    },\n    SET_TAGS(state, tags) {\n      state.mailTags = tags\n    },\n    SET_META(state, meta) {\n      state.meta = meta\n    },\n    UPDATE_MAIL_FILTER(state, filterName) {\n      state.mail_filter = filterName\n    },\n    UPDATE_LABELS(state, payload) {\n        payload.mails.forEach((mailId) => {\n            const mailIndex = state.mails.findIndex((mail) => mail.id == mailId)\n            const index = state.mails[mailIndex].labels.indexOf(payload.label)\n\n            if(index == -1) state.mails[mailIndex].labels.push(payload.label)\n            else state.mails[mailIndex].labels.splice(index, 1)\n        })\n    },\n    SET_LABELS(state, payload) {\n      state.mails.find((mail) => mail.id === payload.mailId).labels = payload.labels\n    },\n    SET_UNREAD(state, payload) {\n        payload.emailIds.forEach((mailId) => {\n          const mailIndex = state.mails.findIndex((mail) => mail.id == mailId)\n          if(mailIndex !== -1) state.mails[mailIndex].unread = payload.unreadFlag\n        })\n    },\n\n    MOVE_MAILS_TO(state, payload) {\n      payload.emailIds.forEach((mailId) => {\n        const mailIndex = state.mails.findIndex((mail) => mail.id == mailId)\n\n        // Update draft meta\n        // If moving from draft mailFolder decrease draft meta by removing mailId\n        state.mails[mailIndex].mailFolder === \"draft\" ? state.meta.draftMails.splice(state.meta.draftMails.findIndex(i => i === mailId), 1) : null\n        // Else increase by pushing mailId\n        payload.to === \"draft\" ? state.meta.draftMails.push(mailId) : null\n\n        state.mails[mailIndex].mailFolder = payload.to\n      })\n    },\n\n    TOGGLE_IS_MAIL_STARRED(state, payload) {\n      state.mails.find((mail) => mail.id === payload.mailId).isStarred = payload.value\n    },\n\n    // If your process of fetching is different than ours. Please update action and mutation\n    // Maybe this mutation is redundant for you. Feel free to remove it.\n    UPDATE_UNREAD_META(state, payload) {\n\n      // Loop over email meta\n      for(const folder in state.meta.unreadMails.folder) {\n\n        // If folder is same as current filter\n        if(folder == state.mail_filter) {\n\n          // If unread flag is true - increase count\n          if(payload.unreadFlag) {\n            payload.emailIds.forEach((mailId) => {\n              if(state.meta.unreadMails.folder[folder].indexOf(mailId) === -1) state.meta.unreadMails.folder[folder].push(mailId)\n            })\n          }\n\n          // else reduce unread mails count\n          else {\n            payload.emailIds.forEach((mailId) => {\n              let mailIdIndex = state.meta.unreadMails.folder[folder].indexOf(mailId)\n              if(mailIdIndex !== -1) state.meta.unreadMails.folder[folder].splice(mailIdIndex, 1)\n            })\n          }\n        }\n      }\n    },\n    UPDATE_UNREAD_META_ON_MOVE(state, payload) {\n\n      // Updating Draft meta is handled by \"MOVE_MAILS_TO\" mutation\n\n      payload.emailIds.forEach((mailId) => {\n        let mail = state.mails.find((mail) => mail.id == mailId)\n\n        if(mail.unread) {\n          const cf_unread_mails = state.meta.unreadMails.folder[state.mail_filter]\n          if(cf_unread_mails) {\n            cf_unread_mails.splice( cf_unread_mails.indexOf(mailId), 1)\n          }\n          if(state.meta.unreadMails.folder[payload.to]) state.meta.unreadMails.folder[payload.to].push(mailId)\n        }\n      })\n    }\n}\n"]}]}