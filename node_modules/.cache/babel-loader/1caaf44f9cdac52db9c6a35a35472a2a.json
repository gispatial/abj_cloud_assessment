{"remainingRequest":"/Users/crocslut/Desktop/abj_cloud_assessment/node_modules/babel-loader/lib/index.js!/Users/crocslut/Desktop/abj_cloud_assessment/src/store/chat/moduleChatGetters.js","dependencies":[{"path":"/Users/crocslut/Desktop/abj_cloud_assessment/src/store/chat/moduleChatGetters.js","mtime":1634797132098},{"path":"/Users/crocslut/Desktop/abj_cloud_assessment/node_modules/cache-loader/dist/cjs.js","mtime":1634797146168},{"path":"/Users/crocslut/Desktop/abj_cloud_assessment/node_modules/babel-loader/lib/index.js","mtime":1634797145766}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5zb3J0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQiOwoKLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogIEZpbGUgTmFtZTogbW9kdWxlQ2hhdEdldHRlcnMuanMKICBEZXNjcmlwdGlvbjogQ2hhdCBNb2R1bGUgR2V0dGVycwogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICBJdGVtIE5hbWU6IGFiamNsb3Vkc29sdXRpb25zLmNvbSBkYXNoYm9hcmQgbWFuYWdlbWVudCBwb3J0YWwKICAgIEF1dGhvcjogSnVzdGVkQEFpZHkKICBTdGFnaW5nIFVSTDogaHR0cDovL3RyaXBjYXJ0ZS5naXNwYXRpYWwudGVjaC9hcGkKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki8KLy8gaW1wb3J0IGNvbnRhY3RzIGZyb20gJ0Avdmlld3MvYXBwcy9jaGF0L2NvbnRhY3RzJwpleHBvcnQgZGVmYXVsdCB7CiAgY2hhdERhdGFPZlVzZXI6IGZ1bmN0aW9uIGNoYXREYXRhT2ZVc2VyKHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGlkKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jaGF0c1tPYmplY3Qua2V5cyhzdGF0ZS5jaGF0cykuZmluZChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIGtleSA9PSBpZDsKICAgICAgfSldOwogICAgfTsKICB9LAogIGNoYXRDb250YWN0czogZnVuY3Rpb24gY2hhdENvbnRhY3RzKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICB2YXIgY2hhdENvbnRhY3RzID0gc3RhdGUuY2hhdENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoY29udGFjdCkgewogICAgICByZXR1cm4gY29udGFjdC5kaXNwbGF5TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHN0YXRlLmNoYXRTZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKTsKICAgIH0pOwogICAgY2hhdENvbnRhY3RzLnNvcnQoZnVuY3Rpb24gKHgsIHkpIHsKICAgICAgdmFyIHRpbWVYID0gZ2V0dGVycy5jaGF0TGFzdE1lc3NhZ2VkKHgudWlkKS50aW1lOwogICAgICB2YXIgdGltZVkgPSBnZXR0ZXJzLmNoYXRMYXN0TWVzc2FnZWQoeS51aWQpLnRpbWU7CiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lWSkgLSBuZXcgRGF0ZSh0aW1lWCk7CiAgICB9KTsKICAgIHJldHVybiBjaGF0Q29udGFjdHMuc29ydChmdW5jdGlvbiAoeCwgeSkgewogICAgICB2YXIgY2hhdERhdGFYID0gZ2V0dGVycy5jaGF0RGF0YU9mVXNlcih4LnVpZCk7CiAgICAgIHZhciBjaGF0RGF0YVkgPSBnZXR0ZXJzLmNoYXREYXRhT2ZVc2VyKHkudWlkKTsKICAgICAgaWYgKGNoYXREYXRhWCAmJiBjaGF0RGF0YVkpIHJldHVybiBjaGF0RGF0YVkuaXNQaW5uZWQgLSBjaGF0RGF0YVguaXNQaW5uZWQ7ZWxzZSByZXR1cm4gMDsKICAgIH0pOwogIH0sCiAgY29udGFjdHM6IGZ1bmN0aW9uIGNvbnRhY3RzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuY29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uIChjb250YWN0KSB7CiAgICAgIHJldHVybiBjb250YWN0LmRpc3BsYXlOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc3RhdGUuY2hhdFNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCkpOwogICAgfSk7CiAgfSwKICBjb250YWN0OiBmdW5jdGlvbiBjb250YWN0KHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRhY3RJZCkgewogICAgICByZXR1cm4gc3RhdGUuY29udGFjdHMuZmluZChmdW5jdGlvbiAoY29udGFjdCkgewogICAgICAgIHJldHVybiBjb250YWN0LnVpZCA9PSBjb250YWN0SWQ7CiAgICAgIH0pOwogICAgfTsKICB9LAogIGNoYXRzOiBmdW5jdGlvbiBjaGF0cyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmNoYXRzOwogIH0sCiAgY2hhdFVzZXI6IGZ1bmN0aW9uIGNoYXRVc2VyKHN0YXRlLCBnZXR0ZXJzLCByb290U3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgcmV0dXJuIHN0YXRlLmNvbnRhY3RzLmZpbmQoZnVuY3Rpb24gKGNvbnRhY3QpIHsKICAgICAgICByZXR1cm4gY29udGFjdC51aWQgPT0gaWQ7CiAgICAgIH0pIHx8IHJvb3RTdGF0ZS5BcHBBY3RpdmVVc2VyOwogICAgfTsKICB9LAogIGNoYXRMYXN0TWVzc2FnZWQ6IGZ1bmN0aW9uIGNoYXRMYXN0TWVzc2FnZWQoc3RhdGUsIGdldHRlcnMpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgaWYgKGdldHRlcnMuY2hhdERhdGFPZlVzZXIoaWQpKSByZXR1cm4gZ2V0dGVycy5jaGF0RGF0YU9mVXNlcihpZCkubXNnLnNsaWNlKC0xKVswXTtlbHNlIHJldHVybiBmYWxzZTsKICAgIH07CiAgfSwKICBjaGF0VW5zZWVuTWVzc2FnZXM6IGZ1bmN0aW9uIGNoYXRVbnNlZW5NZXNzYWdlcyhzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGZ1bmN0aW9uIChpZCkgewogICAgICB2YXIgdW5zZWVuTXNnID0gMDsKICAgICAgdmFyIGNoYXREYXRhID0gZ2V0dGVycy5jaGF0RGF0YU9mVXNlcihpZCk7CgogICAgICBpZiAoY2hhdERhdGEpIHsKICAgICAgICBjaGF0RGF0YS5tc2cubWFwKGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgIGlmICghbXNnLmlzU2VlbiAmJiAhbXNnLmlzU2VudCkgdW5zZWVuTXNnKys7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1bnNlZW5Nc2c7CiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/Users/crocslut/Desktop/abj_cloud_assessment/src/store/chat/moduleChatGetters.js"],"names":["chatDataOfUser","state","id","chats","Object","keys","find","key","chatContacts","getters","filter","contact","displayName","toLowerCase","includes","chatSearchQuery","sort","x","y","timeX","chatLastMessaged","uid","time","timeY","Date","chatDataX","chatDataY","isPinned","contacts","contactId","chatUser","rootState","AppActiveUser","msg","slice","chatUnseenMessages","unseenMsg","chatData","map","isSeen","isSent"],"mappings":"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","sourcesContent":["/*=========================================================================================\n  File Name: moduleChatGetters.js\n  Description: Chat Module Getters\n  ----------------------------------------------------------------------------------------\n  Item Name: abjcloudsolutions.com dashboard management portal\n    Author: Justed@Aidy\n  Staging URL: http://tripcarte.gispatial.tech/api\n==========================================================================================*/\n\n\n// import contacts from '@/views/apps/chat/contacts'\n\nexport default {\n    chatDataOfUser: state => id => {\n        return state.chats[Object.keys(state.chats).find(key => key == id)]\n    },\n    chatContacts: (state, getters) => {\n      let chatContacts = state.chatContacts.filter((contact) => contact.displayName.toLowerCase().includes(state.chatSearchQuery.toLowerCase()))\n\n      chatContacts.sort((x,y) => {\n        let timeX = getters.chatLastMessaged(x.uid).time\n        let timeY = getters.chatLastMessaged(y.uid).time\n        return (new Date(timeY) - new Date(timeX))\n      })\n\n      return chatContacts.sort((x,y) => {\n        const chatDataX = getters.chatDataOfUser(x.uid)\n        const chatDataY = getters.chatDataOfUser(y.uid)\n        if(chatDataX && chatDataY) return (chatDataY.isPinned - chatDataX.isPinned)\n        else return 0\n      })\n    },\n    contacts: (state) => state.contacts.filter((contact) => contact.displayName.toLowerCase().includes(state.chatSearchQuery.toLowerCase())),\n    contact: (state) => contactId => state.contacts.find((contact) => contact.uid == contactId),\n    chats: (state) => state.chats,\n    chatUser: (state, getters, rootState) => id => state.contacts.find((contact) => contact.uid == id) || rootState.AppActiveUser,\n\n    chatLastMessaged: (state, getters) => id => {\n        if(getters.chatDataOfUser(id)) return getters.chatDataOfUser(id).msg.slice(-1)[0];\n        else return false\n    },\n    chatUnseenMessages: (state, getters) => id => {\n        let unseenMsg = 0;\n        const chatData = getters.chatDataOfUser(id);\n        if(chatData) {\n            chatData.msg.map((msg) => {\n                if(!msg.isSeen && !msg.isSent) unseenMsg++;\n            })\n        }\n        return unseenMsg;\n    },\n}\n"]}]}